const ham=document.querySelector(".hamburger"),menu=document.querySelector(".menu"),menuClose=document.querySelector(".menu__close"),menuActive=document.querySelector(".menu__active");ham.onclick=function(){menu.classList.add("menu__active")},menuClose.onclick=function(){menu.classList.remove("menu__active")},document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("form");function o(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}s.addEventListener("submit",async function(t){t.preventDefault();let e=function(){let t=0,n=document.querySelectorAll("._req");for(let e=0;e<n.length;e++){const s=n[e];!function(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}(s),s.classList.contains("_email")?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(s.value)||(o(s),t++):("checkbox"===s.getAttribute("type")&&!1===s.checked||""===s.value)&&(o(s),t++)}return t}(s),n=new FormData(s);if(n.append("image",i.files[0]),0===e){s.classList.add("_sending");let e=await fetch("sendmail.php",{method:"POST",body:n});e.ok?(t=await e.json(),alert(t.message),r.innerHTML="",s.reset()):alert("Ошибка"),s.classList.remove("_sending")}else alert("Заполните обязательные поля")});const i=document.getElementById("formImage"),r=document.getElementById("formPreview");i.addEventListener("change",()=>{var e,t;e=i.files[0],["image/jpeg","image/png","image/gif"].includes(e.type)?2097152<e.size?alert("Файл должен быть менее 2 МБ."):((t=new FileReader).onload=function(e){r.innerHTML=`<img src="${e.target.result}" alt="Фото">`},t.onerror=function(e){alert("Ошибка")},t.readAsDataURL(e)):(alert("Разрешены только изображения."),i.value="")})}),$(".youtube-carousel").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,arrows:!1,dots:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]});